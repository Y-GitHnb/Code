# 开发板：
	STM32F103C8T6



# 程序功能：
	单片机低功耗


# 原理说明：
	- 睡眠模式：仅关闭CPU内核时钟，外设和系统时钟仍然运行，所有外设处于工作状态并可在发生 中断/事件 时唤醒 CPU。

	- 停止模式：在保持 SRAM 和寄存器内容不丢失的情况下，停机模式可以达到最低的电能消耗。停止所有内部 1.8V 部分的供电，PLL、HSI 的 RC 振荡器和 HSE 品体振荡器被关闭，调压器可以被置于普通模式或低功耗模式。可以通过任一配置成 EXTI 的信号把微控制器从停机模式中唤醒，EXTI 信号可以是16个外部IO口之一、PVD的输出、RTC闹钟或 USB 的唤醒信号，唤醒后需要重新配置系统时钟。

	- 待机模式：待机模式下可以达到最低的电能消耗。关闭内部电压调压器，因此所有内部 1.8V 部分的供电被切断；PLL、HSI 的 RC 振荡器和 HSE 品体振荡器也被关闭；所有寄存器的内容都会丢失，但后备寄存器的内容仍然保留，待机电路仍工作。只有特定的事件（如外部复位、IWDG 复位、WKUP 引脚上升沿或 RTC 闹钟事件）可以唤醒单片机。所有 I/O 引脚在待机模式下都是高阻态，除了复位引脚、配置为特定功能的 RTC_AF1 引脚和使能的 WKUP 引脚。


# 备注说明
	* STM32 的低功耗模式大体分为三种，睡眠模式、停机模式、待机模式。
	- 细分有：
		Sleep mode（睡眠模式）						   功耗 37uA/MHz
		Low-power run mode（低功耗运行模式）			功耗 8uA/MHz
		Low-power sleep mode（低功耗睡眠模式）			功耗 4.5uA/MHz
		Stop mode with RTC（带有RTC的停止模式）			功耗 1uA/MHz
		Stop mode without RTC（不带RTC的停止模式）		功耗 0.4uA/MHz VDD=3.0V
		Standby mode with RTC（带有RTC的旁路模式）		功耗 0.85uA/MHz VDD=3.0V
		Standby mode without RTC（不带RTC的旁路模式）	功耗 0.29uA/MHz VDD=3.0V

	* 项目功耗模式推荐选型
	- 睡眠模式：在 ARM 内核无事可做的时候，可以进入睡眠模式。但设备外设依旧可以工作，需要 ARM 的内核工作时，再将 ARM 内核进行唤醒。
		- 优点:对系统影响最小
        - 缺点:节能效果最差
	- 停机模式：SRAM 内容不消失，程序不复位，可在唤醒后继续运行。主要用于电池供电的设备上，提高电池寿命。电池供电的产品中必须使用，外部供电的产品中没必要使用。
		- 优点:节能效果好,程序不会复位
        - 缺点:恢复时间较长
	- 待机模式：由于 SRAM 内容消失，唤醒后程序必须复位。因为待机和停机之间的功耗差别是 uA 级的，几乎没有差别，所以开发者大多使用停机模式，待机模式极少使用。在一些偶尔需要工作的场合，且工作量不大、不复杂的情况下，待机模式可以保证最低功耗。比如应用在室外温度测量产品上，每1小时测量一次。可用RTC闹钟唤醒，测量完待机。
		- 优点:最节能
		- 缺点:程序会复位，只有少数条件可唤醒

	1、单片机内部功率是各功能部分功率的总和；
	2、低功耗模式是通过关掉部分内部功能达到省电；
	3、停止模式，电流比较低，唤醒的方法也比较多；
	4、旁路模式，里面的RAM中的数据全部丢失，相当于复位重启；
	5、睡眠模式，在所有外设全部关闭的条件下，16MHz时，电流为1mA左右，这个数值相对自身的项目来说还是有些大；
	6、低功耗运行模式和低功耗睡眠模式，都限制了CPU的最大运行速度，如果CPU需要一直工作选择，该模式是比较合适的；

